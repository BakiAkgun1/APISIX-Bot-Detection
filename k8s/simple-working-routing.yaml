# ğŸ¯ BASÄ°T Ã‡ALIÅAN ROUTING - AdÄ±m AdÄ±m Test
# Ã–nce sadece normal route, sonra diÄŸerlerini ekleyeceÄŸiz

apiVersion: apisix.apache.org/v2
kind: ApisixRoute
metadata:
  name: portal-normal-route
  namespace: default
  annotations:
    kubernetes.io/ingress.class: apisix
spec:
  http:
  - name: normal-traffic
    priority: 50  # Normal kullanÄ±cÄ±lar iÃ§in en dÃ¼ÅŸÃ¼k priority
    match:
      hosts:
      - "*"
      paths:
      - "/*"
    backends:
    - serviceName: portal-svc
      servicePort: 80
    plugins:
    - name: limit-count
      enable: true
      config:
        count: 100
        time_window: 60
        key: "remote_addr"
        rejected_code: 429
